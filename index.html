<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>شبام للتسويق</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #f2f2f2;
    }

    /* أنماط صفحة تسجيل الدخول */
    .login-page {
      background: linear-gradient(to bottom right, #000, #444);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1003;
    }

    .login-container {
      background-color: #1e1e1e;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(0,0,0,0.5);
      width: 90%;
      max-width: 400px;
    }

    .login-container h2 {
      text-align: center;
      margin-bottom: 25px;
      color: #ffd700;
    }

    .input-group {
      margin-bottom: 15px;
    }

    .input-group input {
      width: 100%;
      padding: 12px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
    }

    .remember {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
    }

    .remember input {
      margin-left: 8px;
    }

    .login-btn {
      width: 100%;
      background-color: black;
      color: white;
      padding: 14px;
      border: none;
      border-radius: 10px;
      font-size: 18px;
      cursor: pointer;
      transition: 0.3s;
    }

    .login-btn:hover {
      background-color: #333;
    }

    .bottom-links {
      margin-top: 20px;
      text-align: center;
      font-size: 14px;
    }

    .bottom-links a {
      color: #ffd700;
      text-decoration: none;
      margin: 0 5px;
    }

    /* أنماط القائمة الجانبية */
    .sidebar {
      height: 100%;
      width: 250px;
      position: fixed;
      top: 0;
      right: -250px;
      background-color: #111;
      padding-top: 60px;
      transition: 0.3s;
      z-index: 1000;
    }

    .sidebar a {
      padding: 15px 25px;
      text-decoration: none;
      font-size: 18px;
      color: white;
      display: block;
    }

    .sidebar a:hover {
      background-color: #333;
    }

    .open-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      font-size: 26px;
      background-color: black;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
      z-index: 1001;
    }

    /* أنماط الصفحة الرئيسية */
    .header {
      padding: 20px;
      background-color: black;
      color: white;
      text-align: center;
      font-size: 22px;
    }

    .content {
      padding: 40px 20px;
    }

    .card {
      background-color: white;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 20px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    /* أنماط صفحة السلة */
    .cart-page {
      display: none;
      padding: 20px;
    }

    .cart-container {
      max-width: 800px;
      margin: 30px auto;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    table, th, td {
      border: 1px solid #ddd;
    }

    th, td {
      padding: 12px;
      text-align: center;
    }

    .btn {
      padding: 8px 16px;
      background-color: black;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    .share-btn {
      display: block;
      margin: 20px auto 0;
      padding: 12px 20px;
      background-color: gold;
      color: black;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      text-align: center;
    }

    .back-btn {
      display: block;
      margin: 20px auto;
      padding: 10px 20px;
      background-color: #333;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    /* أنماط نافذة التواصل */
    .contact-popup {
      display: none;
      position: fixed;
      bottom: 80px;
      right: 20px;
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
      padding: 20px;
      z-index: 1002;
    }

    .contact-popup h3 {
      margin-top: 0;
      font-size: 18px;
      margin-bottom: 10px;
    }

    .contact-popup button {
      width: 100%;
      margin-top: 10px;
      padding: 12px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
    }

    .call-btn {
      background-color: #28a745;
      color: white;
    }

    .whatsapp-btn {
      background-color: #25d366;
      color: white;
    }

    .address {
      margin-top: 30px;
      font-size: 16px;
      text-align: center;
      color: #333;
      font-weight: bold;
    }
  </style>
</head>
<body>

<!-- صفحة تسجيل الدخول -->
<div id="loginPage" class="login-page">
  <div class="login-container">
    <h2>شبام للتسويق</h2>
    <form id="loginForm">
      <div class="input-group">
        <input type="tel" id="phone" placeholder="رقم الجوال" required>
      </div>
      <div class="input-group">
        <input type="password" id="password" placeholder="كلمة المرور" required>
      </div>

      <div class="remember">
        <input type="checkbox" id="rememberMe">
        <label for="rememberMe">تذكرني</label>
      </div>

      <button type="submit" class="login-btn">تسجيل الدخول</button>

      <div class="bottom-links">
        <p>ليس لديك حساب؟ <a href="#" onclick="showRegister()">تسجيل حساب جديد</a></p>
        <a href="#" onclick="showContact()">تواصل معنا</a>
      </div>
    </form>
  </div>
</div>

<!-- صفحة تسجيل جديد -->
<div id="registerPage" class="login-page" style="display: none;">
  <div class="login-container" style="max-width: 450px;">
    <h2>تسجيل حساب جديد</h2>
    <form id="registerForm">
      <div class="input-group">
        <input type="text" id="fullName" placeholder="مثال: أحمد سعيد" required>
      </div>
      <div class="input-group">
        <input type="password" id="password" placeholder="كلمة المرور" required>
      </div>
      <div class="input-group">
        <input type="password" id="confirmPassword" placeholder="تأكيد كلمة المرور" required>
      </div>
      <div class="input-group">
        <input type="tel" id="phone" placeholder="رقم الجوال" required>
      </div>
      <div class="input-group">
        <input type="text" id="address" placeholder="العنوان الحالي" required>
      </div>

      <button type="submit" class="login-btn">تسجيل الحساب</button>

      <div class="bottom-links">
        <p>لديك حساب بالفعل؟ <a href="#" onclick="showLogin()">تسجيل الدخول</a></p>
      </div>
    </form>
  </div>
</div>

<!-- واجهة التطبيق الرئيسية -->
<div id="appContent" style="display: none;">
  <button class="open-btn" onclick="toggleSidebar()">≡</button>

  <div id="mySidebar" class="sidebar">
    <a href="#" onclick="showPage('main')">الرئيسية</a>
    <a href="#" onclick="showPage('products')">المنتجات</a>
    <a href="#" onclick="showPage('cart')">طلباتي</a>
    <a href="#" onclick="showProfile()">حسابي</a>
    <a href="#" onclick="logout()">تسجيل الخروج</a>
  </div>

  <!-- الصفحة الرئيسية -->
  <div id="mainPage">
    <div class="header">
      مرحباً بك في <strong>شبام للتسويق</strong>
    </div>

    <div class="content">
      <div class="card">
        <h3>تصفح المنتجات</h3>
        <p>استعرض أفضل المنتجات من مشاريع متنوعة، واطلبها بسهولة من مكانك.</p>
      </div>

      <div class="card">
        <h3>تابع طلباتك</h3>
        <p>تتبع حالة طلبك من التأكيد حتى التوصيل.</p>
      </div>

      <div class="card">
        <h3>تواصل معنا</h3>
        <p>خدمة عملاء متاحة لمساعدتك على مدار الساعة.</p>
        <button onclick="toggleContactPopup()" style="margin-top: 10px; padding: 10px 15px; background-color: black; color: white; border: none; border-radius: 8px; font-size: 16px;">تواصل الآن</button>
      </div>

      <div class="address">
        الموقع: صنعاء - شارع القيادة بجوار كاك بنك
      </div>
    </div>
  </div>

  <!-- صفحة سلة المشتريات -->
  <div id="cartPage" class="cart-page">
    <div class="header">سلة مشترياتك</div>

    <div class="cart-container">
      <table id="cartTable">
        <thead>
          <tr>
            <th>الصورة</th>
            <th>المنتج</th>
            <th>الوصف</th>
            <th>حذف</th>
          </tr>
        </thead>
        <tbody id="cartItems">
          <!-- المنتجات هنا -->
        </tbody>
      </table>

      <button class="share-btn" onclick="shareCart()">مشاركة السلة مع صديق</button>
      <button class="back-btn" onclick="showPage('main')">العودة للرئيسية</button>
    </div>
  </div>

  <!-- صفحة المنتجات -->
  <div id="productsPage" class="cart-page" style="display: none;">
    <div class="header">منتجاتنا</div>
    <div class="cart-container">
      <div id="productsList" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 15px;">
        <!-- سيتم إضافة المنتجات هنا عبر JavaScript -->
      </div>
      <button class="back-btn" onclick="showPage('main')">العودة للرئيسية</button>
    </div>
  </div>
</div>

<!-- مربع التواصل -->
<div class="contact-popup" id="contactPopup">
  <h3>اختر طريقة التواصل</h3>
  <button class="call-btn" onclick="window.location.href='tel:+967777492635'">اتصال: 777492635</button>
  <button class="whatsapp-btn" onclick="window.open('https://wa.me/967777492635', '_blank')">واتساب: 777492635</button>
</div>

<script>
  // بيانات التطبيق
  const sampleProducts = [
    {
      id: 1,
      name: "منتج 1",
      description: "وصف المنتج الأول",
      image: "https://via.placeholder.com/150",
      price: "10 ريال"
    },
    {
      id: 2,
      name: "منتج 2", 
      description: "وصف المنتج الثاني",
      image: "https://via.placeholder.com/150",
      price: "15 ريال"
    },
    {
      id: 3,
      name: "منتج 3",
      description: "وصف المنتج الثالث",
      image: "https://via.placeholder.com/150",
      price: "20 ريال"
    }
  ];

  // التحقق من تسجيل الدخول عند التحميل
  window.onload = function() {
    if(localStorage.getItem('isLoggedIn') === 'true') {
      showApp();
    } else {
      document.getElementById('loginPage').style.display = 'flex';
    }
  };

  // تسجيل الدخول
  document.getElementById('loginForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const phone = document.getElementById('phone').value;
    const password = document.getElementById('password').value;
    
    // هنا يمكنك إضافة التحقق من بيانات الدخول
    localStorage.setItem('isLoggedIn', 'true');
    localStorage.setItem('userPhone', phone);
    
    showApp();
  });

  // تسجيل حساب جديد
  document.getElementById('registerForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const password = document.getElementById('password').value;
    const confirmPassword = document.getElementById('confirmPassword').value;
    
    if(password !== confirmPassword) {
      alert("كلمة المرور وتأكيدها غير متطابقين");
      return;
    }
    
    const userData = {
      fullName: document.getElementById('fullName').value,
      phone: document.getElementById('phone').value,
      address: document.getElementById('address').value
    };
    
    localStorage.setItem('userData', JSON.stringify(userData));
    localStorage.setItem('isLoggedIn', 'true');
    
    showApp();
  });

  // عرض التطبيق بعد تسجيل الدخول
  function showApp() {
    document.getElementById('loginPage').style.display = 'none';
    document.getElementById('registerPage').style.display = 'none';
    document.getElementById('appContent').style.display = 'block';
    showPage('main');
  }

  // عرض صفحة تسجيل الدخول
  function showLogin() {
    document.getElementById('registerPage').style.display = 'none';
    document.getElementById('loginPage').style.display = 'flex';
  }

  // عرض صفحة تسجيل جديد
  function showRegister() {
    document.getElementById('loginPage').style.display = 'none';
    document.getElementById('registerPage').style.display = 'flex';
  }

  // تسجيل الخروج
  function logout() {
    localStorage.removeItem('isLoggedIn');
    document.getElementById('appContent').style.display = 'none';
    document.getElementById('loginPage').style.display = 'flex';
    showPage('main');
  }

  // عرض صفحة الملف الشخصي
  function showProfile() {
    const userData = JSON.parse(localStorage.getItem('userData') || '{}');
    alert(`معلومات حسابك:\nالاسم: ${userData.fullName || 'غير محدد'}\nرقم الجوال: ${userData.phone || 'غير محدد'}\nالعنوان: ${userData.address || 'غير محدد'}`);
  }

  // عرض/إخفاء القائمة الجانبية
  function toggleSidebar() {
    const sidebar = document.getElementById("mySidebar");
    sidebar.style.right = sidebar.style.right === "0px" ? "-250px" : "0px";
  }

  // عرض/إخفاء نافذة التواصل
  function toggleContactPopup() {
    const popup = document.getElementById("contactPopup");
    popup.style.display = popup.style.display === "block" ? "none" : "block";
  }

  // التبديل بين الصفحات
  function showPage(pageName) {
    document.getElementById('mainPage').style.display = 'none';
    document.getElementById('cartPage').style.display = 'none';
    document.getElementById('productsPage').style.display = 'none';
    
    if (pageName === 'main') {
      document.getElementById('mainPage').style.display = 'block';
    } else if (pageName === 'cart') {
      document.getElementById('cartPage').style.display = 'block';
      loadCart();
    } else if (pageName === 'products') {
      document.getElementById('productsPage').style.display = 'block';
      loadProducts();
    }
    
    toggleSidebar();
  }

  // تحميل المنتجات
  function loadProducts() {
    const productsList = document.getElementById('productsList');
    productsList.innerHTML = '';
    
    sampleProducts.forEach(product => {
      productsList.innerHTML += `
        <div class="card" style="padding: 10px; text-align: center;">
          <img src="${product.image}" style="width:100%; border-radius: 8px;">
          <h4>${product.name}</h4>
          <p>${product.description}</p>
          <p><strong>${product.price}</strong></p>
          <button class="btn" onclick="addToCart(${product.id})">إضافة للسلة</button>
        </div>
      `;
    });
  }

  // إضافة منتج للسلة
  function addToCart(productId) {
    const product = sampleProducts.find(p => p.id === productId);
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    cart.push(product);
    localStorage.setItem('cart', JSON.stringify(cart));
    alert("تمت إضافة المنتج إلى السلة");
  }

  // تحميل محتويات السلة
  function loadCart() {
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    const cartItems = document.getElementById('cartItems');
    cartItems.innerHTML = '';

    cart.forEach((item, index) => {
      cartItems.innerHTML += `
        <tr>
          <td><img src="${item.image}" style="width:80px;height:60px;object-fit:cover;border-radius:6px;"></td>
          <td>${item.name}</td>
          <td>${item.description}</td>
          <td><button class="btn" onclick="removeFromCart(${index})">حذف</button></td>
        </tr>
      `;
    });

    if (cart.length === 0) {
      cartItems.innerHTML = `<tr><td colspan="4">سلتك فارغة.</td></tr>`;
    }
  }

  // حذف عنصر من السلة
  function removeFromCart(index) {
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    cart.splice(index, 1);
    localStorage.setItem('cart', JSON.stringify(cart));
    loadCart();
  }

  // مشاركة السلة
  function shareCart() {
    const baseUrl = window.location.href;
    navigator.clipboard.writeText(baseUrl)
      .then(() => {
        alert("تم نسخ رابط السلة! يمكنك الآن إرساله لصديقك.");
      })
      .catch(err => {
        alert("فشل النسخ، انسخ الرابط يدويًا: " + baseUrl);
      });
  }

  // عرض معلومات التواصل
  function showContact() {
    alert("للتواصل معنا:\nاتصال: 777492635\nواتساب: 777492635");
  }

  // إغلاق القائمة والنوافذ عند النقر خارجها
  document.addEventListener("click", function (event) {
    const sidebar = document.getElementById("mySidebar");
    const popup = document.getElementById("contactPopup");
    const openBtn = document.querySelector(".open-btn");
    const isSidebarClick = sidebar.contains(event.target) || openBtn.contains(event.target);
    const isPopupClick = popup.contains(event.target) || event.target.innerText.includes("تواصل الآن");

    if (!isSidebarClick && sidebar.style.right === "0px") {
      sidebar.style.right = "-250px";
    }

    if (!isPopupClick && popup.style.display === "block") {
      popup.style.display = "none";
    }
  });
</script>

</body>
</html>
